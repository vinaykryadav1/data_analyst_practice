{% extends "base.html" %}
{% block content %}

<section class="panel" style="margin:28px;padding:28px;min-height:70vh;">

  <!-- HEADER -->
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h2>Interview Mode</h2>

    <div style="display:flex;gap:10px;align-items:center;">
      <strong id="int-timer">30:00</strong>

      <button id="startBtn" class="btn" onclick="toggleInterview()">Start</button>
      <button class="btn-ghost" onclick="resetInterview()">Reset</button>
      <button class="btn-ghost" onclick="submitInterview()">Submit</button>
    </div>
  </div>

  <!-- QUESTIONS -->
  <div id="interview-questions" style="margin-top:18px;">

    {% for q in questions %}
    <div class="panel-card" style="margin-bottom:12px;padding:14px">

      <!-- Q HEADER -->
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div>
          <strong>Q{{ loop.index }}.</strong> {{ q.question }}
        </div>

        <!-- REVEAL BUTTON -->
        <div>
          <button class="btn-ghost reveal-btn" onclick="revealAns('{{q.id}}')" disabled>
            Reveal
          </button>
        </div>
      </div>

      <!-- OPEN BUTTON -->
      <div style="margin-top:10px">
        <button class="btn-ghost open-btn" onclick="openQuestion('{{q.id}}')" disabled>
          Open
        </button>
      </div>

      <!-- TEXTAREA -->
      <div id="area-{{q.id}}" style="margin-top:10px;display:none;">
        <textarea class="ans-input"
          data-qid="{{q.id}}"
          style="width:100%;height:120px;background:#071025;color:#fff;border-radius:8px;padding:10px;">
        </textarea>
      </div>

      <!-- REVEALED ANSWER -->
      <pre id="ans-{{q.id}}" style="margin-top:10px;color:#9fd;"></pre>

    </div>
    {% endfor %}

  </div>
</section>
{% endblock %}